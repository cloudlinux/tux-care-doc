(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{315:function(e,t,a){"use strict";a.r(t);var r=a(14),s=Object(r.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"kernelcare-enterprise"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kernelcare-enterprise"}},[e._v("#")]),e._v(" KernelCare Enterprise")]),e._v(" "),a("p",[e._v("KernelCare Enterprise live patching enhances your vulnerability patching program by providing live patches to the Linux kernel and, optionally, with add-ons to critical userspace components, as well as the virtualization stack.\nThe systems are patched according to your patch deployment policy, allowing you to customize your patch management to align with the needs of your unique environment, whether online or in an air-gapped environment. Plus, your vulnerability reports reduce in size quickly as KernelCare seamlessly integrates with all popular vulnerability scanners to give you an accurate vulnerability exposure report.")]),e._v(" "),a("p",[e._v("KernelCare Enterprise brings KernelCare live patching by default and the following add-ons:")]),e._v(" "),a("ul",[a("li",[e._v("LibCare")]),e._v(" "),a("li",[e._v("QEMUCare")])]),e._v(" "),a("p",[e._v("The sections below describe KernelCare live patching and the additional add-ons in more detail.")]),e._v(" "),a("h2",{attrs:{id:"kernelcare"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kernelcare"}},[e._v("#")]),e._v(" KernelCare")]),e._v(" "),a("h3",{attrs:{id:"introduction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),a("p",[e._v("KernelCare Enterprise is a live kernel patching service that provides security patches and bugfixes for a range of popular Linux kernels that can be installed without rebooting the system")]),e._v(" "),a("h3",{attrs:{id:"benefits"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#benefits"}},[e._v("#")]),e._v(" Benefits")]),e._v(" "),a("p",[e._v("Today, system administrators have to reboot a server to apply the latest kernel updates. These updates are necessary to prevent security issues. Due to downtime associated with reboots, however, such updates are often delayed, pushed into the darkest hours of the night. It is common for server owners to not update their systems for months or even years and to run vulnerable systems to avoid downtime. Managed service providers face the problem of having to schedule downtime and then updating and rebooting thousands of servers in a short period of time, straining resources. KernelCare solves this update and reboot issue by providing live kernel patching without the need for a reboot")]),e._v(" "),a("h3",{attrs:{id:"key-features"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#key-features"}},[e._v("#")]),e._v(" Key Features")]),e._v(" "),a("ul",[a("li",[e._v("Rebootless Linux Kernel Patching & Custom Patching")]),e._v(" "),a("li",[e._v("Works On-prem & in the cloud")]),e._v(" "),a("li",[e._v("Private patch server for gated infrastructures - ePortal")]),e._v(" "),a("li",[e._v("Out-of-the-box integration with patch management & vulnerability assessment tools")])]),e._v(" "),a("h3",{attrs:{id:"getting-trial-license"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-trial-license"}},[e._v("#")]),e._v(" Getting trial license")]),e._v(" "),a("p",[e._v("You will need a trial activation key to be able to use the KernelCare Enterprise. The trial license subscription will work for 7 days.")]),e._v(" "),a("p",[e._v("If you have any issues getting activation key or if you have any questions regarding using your trial subscription – contact "),a("a",{attrs:{href:"mailto:sales@cloudlinux.com"}},[e._v("sales@cloudlinux.com")]),e._v(" and we will help.")]),e._v(" "),a("h3",{attrs:{id:"installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[e._v("#")]),e._v(" Installation")]),e._v(" "),a("p",[e._v("KernelCare Enterprise is compatible with 64-bit versions of CloudLinuxOS/CentOS 6,7, and 8, AlmaLinux/RHEL 6,7,8, and 9, Oracle Linux 6 and 7, Amazon Linux 1 and 2, Virtuozzo/PCS/OpenVZ 2.6.32, Debian 8,9 and 10, Proxmox VE 5 and 6, Virt-SIG/Xen4CentOS 6 and 7, Ubuntu 14.04, 15.04, 16.04, 18.04 and 20.04 kernels. The list of compatible kernels can be found on the following link: "),a("a",{attrs:{href:"https://patches.kernelcare.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://patches.kernelcare.com/"),a("OutboundLink")],1),e._v(" .")]),e._v(" "),a("p",[e._v("To install KernelCare Enterprise, run:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("curl -s -L https://kernelcare.com/installer | bash\n")])])]),a("p",[e._v("or:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("wget -qq -O - https://kernelcare.com/installer | bash\n")])])]),a("p",[e._v("If you are using IP-based license, nothing else required to be done.")]),e._v(" "),a("p",[e._v("If you are using key-based license, run:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ /usr/bin/kcarectl --register KEY\n")])])]),a("p",[a("code",[e._v("KEY")]),e._v(" is the registration key code string provided when you sign up for purchase or trial of the product.")]),e._v(" "),a("p",[e._v("If you are experiencing "),a("strong",[a("em",[e._v("Key limit reached")])]),e._v(" error after the end of the trial period you should first, unregister the server by running:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("kcarectl --unregister\n")])])]),a("p",[e._v("To check if patches applied, run:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ /usr/bin/kcarectl --info\n")])])]),a("p",[e._v("The software will automatically check for new patches every 4 hours.")]),e._v(" "),a("p",[e._v("If you would like to run update manually:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ /usr/bin/kcarectl --update\n")])])]),a("p",[e._v("To check current kernel compatibility with KernelCare, use the following "),a("a",{attrs:{href:"https://raw.githubusercontent.com/iseletsk/kernelchecker/master/py/kc-compat.py",target:"_blank",rel:"noopener noreferrer"}},[e._v("script"),a("OutboundLink")],1),e._v(" by running:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("curl -s -L https://kernelcare.com/checker | python\n")])])]),a("p",[e._v("or:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("wget -qq -O - https://kernelcare.com/checker | python\n")])])]),a("h3",{attrs:{id:"update"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#update"}},[e._v("#")]),e._v(" Update")]),e._v(" "),a("p",[e._v("To update the agent package to the latest version use:")]),e._v(" "),a("ul",[a("li",[e._v("For rpm-based distributives (CentOS, RedHat, etc):")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("yum install -y kernelcare\n")])])]),a("ul",[a("li",[e._v("For apt-based distributives (Debian, Ubuntu, etc):")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("apt-get install kernelcare\n")])])]),a("h3",{attrs:{id:"uninstalling"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uninstalling"}},[e._v("#")]),e._v(" Uninstalling")]),e._v(" "),a("p",[e._v("To uninstall KernelCare Enterprise, do the the following:")]),e._v(" "),a("p",[a("em",[e._v("For CloudLinux, CentOS, RHEL, Virtuozzo, OpenVZ:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ yum remove kernelcare\n")])])]),a("p",[a("em",[e._v("For Ubuntu, Debian, Proxmox VE:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("apt-get remove kernelcare\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("dpkg --remove kernelcare\n")])])]),a("p",[e._v("This will also unlink the system from its activation key (provided there is network connectivity to the CLN Portal). However, you'll need to remove the license from the CLN Portal manually if you don't plan to use the service anymore.")]),e._v(" "),a("h3",{attrs:{id:"switching-from-ksplice"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#switching-from-ksplice"}},[e._v("#")]),e._v(" Switching from Ksplice")]),e._v(" "),a("p",[e._v("To switch from Ksplice to KernelCare Enterprise, use the following script that uninstalls Ksplice and installs KernelCare Enterprise instead.")]),e._v(" "),a("p",[e._v("It will automatically detect and abort if the system is not 64-bit (as KernelCare Enterprise doesn't support it).")]),e._v(" "),a("p",[e._v("It will also detects when Ksplice module cannot be uninstalled and retries multiple times.")]),e._v(" "),a("p",[e._v("Download the script here: "),a("a",{attrs:{href:"https://patches.kernelcare.com/ksplice2kcare",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://patches.kernelcare.com/ksplice2kcare"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Run the command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ bash ksplice2kcare $KERNELCARE_KEY$\n")])])]),a("p",[e._v("The key can be created/retrieved in KernelCare Enterprise Keys section of CLN.")]),e._v(" "),a("p",[e._v("If you want to use IP based licenses, run:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ bash ksplice2kcare IP\n")])])]),a("p",[e._v("You have to add IP license for that server, and it is just two letters: IP, not the actual IP.")]),e._v(" "),a("p",[e._v("By default the script will attempt 3 times to uninstall Ksplice, waiting 60 seconds in between. You can run it using "),a("code",[e._v("nohup")]),e._v(" if you don't want to wait.")]),e._v(" "),a("p",[e._v("You can change that by editing the script and changing "),a("code",[e._v("RETRY")]),e._v(" and "),a("code",[e._v("SLEEP")]),e._v(" values.")]),e._v(" "),a("p",[e._v("The script will exit with exit code "),a("code",[e._v("0")]),e._v(" and message "),a("em",[e._v("Done")]),e._v(" on success. Otherwise, it will produce exit code "),a("code",[e._v("-1")]),e._v(".")]),e._v(" "),a("p",[e._v("Complete log file can be found at "),a("code",[e._v("/var/log/ksplice2kcare.log")]),e._v(".")]),e._v(" "),a("h4",{attrs:{id:"canonical-livepatch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#canonical-livepatch"}},[e._v("#")]),e._v(" Canonical Livepatch")]),e._v(" "),a("p",[e._v("KernelCare Enterprise is not compatible with Canonical Livepatch and should not be used on the same system.")]),e._v(" "),a("h3",{attrs:{id:"basic-management"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-management"}},[e._v("#")]),e._v(" Basic management")]),e._v(" "),a("p",[e._v("To disable automatic updates, edit the file "),a("code",[e._v("/etc/sysconfig/kcare/kcare.conf")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("AUTO_UPDATE=False \n")])])]),a("p",[e._v("To check the updated ('effective') version, run:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ /usr/bin/kcarectl --uname \n")])])]),a("p",[e._v("We provide convenience script "),a("code",[e._v("/usr/bin/kcare-uname")]),e._v(" that has same syntax as "),a("code",[e._v("uname")]),e._v(".")]),e._v(" "),a("p",[e._v("To see applied patches, run:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ /usr/bin/kcarectl --patch-info \n")])])]),a("h3",{attrs:{id:"command-line-tools"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#command-line-tools"}},[e._v("#")]),e._v(" Command line tools")]),e._v(" "),a("p",[a("code",[e._v("/usr/bin/kcarectl")]),e._v(" - Manage KernelCare Enterprise patches for your kernel.")]),e._v(" "),a("p",[a("code",[e._v("/usr/bin/kcare-uname")]),e._v(" - Print certain system information.")]),e._v(" "),a("h4",{attrs:{id:"kcarectl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kcarectl"}},[e._v("#")]),e._v(" kcarectl")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th"),e._v(" "),a("th")])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("code",[e._v("-i, --info")])]),e._v(" "),a("td",[e._v("Display information about patches installed by KernelCare Enterprise.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("-u, --update")])]),e._v(" "),a("td",[e._v("Download latest patches, and apply them to current kernel.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--smart-update [since 1.6]")])]),e._v(" "),a("td",[e._v("The same as --update, but uses "),a("RouterLink",{attrs:{to:"/live-patching-services/#config-options"}},[e._v("UPDATE_POLICY")]),e._v(" to decide where to get patches.")],1)]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--unload")])]),e._v(" "),a("td",[e._v("Unload patches.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--auto-update")])]),e._v(" "),a("td",[e._v("Check if update is needed and update.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--patch-info")])]),e._v(" "),a("td",[e._v("Lists applied patches.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--status")])]),e._v(" "),a("td",[e._v("Return a status of an update. Refer to the exit code: "),a("code",[e._v("0")]),e._v(" - host is updated to latest patch level, "),a("code",[e._v("1")]),e._v(" - there are no applied patches, "),a("code",[e._v("2")]),e._v(" - there are new not applied patches, "),a("code",[e._v("3")]),e._v(" - kernel is unsupported")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--force [since 2.3]")])]),e._v(" "),a("td",[e._v("When used with update, forces applying the patch even if unable to freeze some threads.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--uname")])]),e._v(" "),a("td",[e._v("Prints safe kernel version.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--license-info")])]),e._v(" "),a("td",[e._v("Output current license info.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--register KEY")])]),e._v(" "),a("td",[e._v("Register using KernelCare Enterprise Key.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--register-autoretry [since 2.5]")])]),e._v(" "),a("td",[e._v("If registration fails retries registration indefinitely.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--unregister")])]),e._v(" "),a("td",[e._v("Unregister from KernelCare Enterprise for Key based servers.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--userspace-update [PATCHES]")])]),e._v(" "),a("td",[e._v("Download latest patches and apply them to the corresponding userspace processes. Сan be set so that only certain types of patches are applied.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--test")])]),e._v(" "),a("td",[e._v("Try test builds instead of production builds (deprecated, use --prefix=test instead).")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--prefix")])]),e._v(" "),a("td",[e._v("Patch source prefix, used to test different builds, by downloading builds from a different location, based on prefix (v2.2+)")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--version")])]),e._v(" "),a("td",[e._v("Print KernelCare Enterprise version.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--import-key PATH")])]),e._v(" "),a("td",[e._v("Import gpg key.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--set-monitoring-key")])]),e._v(" "),a("td",[e._v("Set monitoring key for IP based licenses. 16 to 32 characters, alphanumeric only [version 2.1+]")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--freezer [since 2.3]")])]),e._v(" "),a("td",[e._v("none: don't freeze any threads; full: freeze all threads; smart: freezes only threads that need to be frozen for patching. If option is not selected, best freezer method is chosen automatically.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--check [since 2.4-1]")])]),e._v(" "),a("td",[e._v("Check if new patchset is available, without updating. Exit code 0 means there is a new kernel. 1 when there is no new kernel.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--doctor [since 2.6]")])]),e._v(" "),a("td",[e._v("Send a report to the TuxCare support staff for diagnostics.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--set-patch-type extra")])]),e._v(" "),a("td",[e._v("To enable extra patches.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--set-patch-type free")])]),e._v(" "),a("td",[e._v("To enable free patches.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--set-sticky-patch SET_STICKY_PATCH")])]),e._v(" "),a("td",[e._v("Set patch to stick to date in format DDMMYY or retrieve it from KEY if set to KEY (no support for ePortal). Empty to unstick. More info at "),a("RouterLink",{attrs:{to:"/live-patching-services/#sticky-patches"}},[e._v("Sticky Patches")]),e._v(".")],1)]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--tag COMMAND")])]),e._v(" "),a("td",[e._v("Adds an extra "),a("em",[e._v("Tag")]),e._v(" field for a server. COMMAND is a user-defined parameter.")])])])]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("Currenlty available userspace patch types are "),a("code",[e._v("libs")]),e._v(" and "),a("code",[e._v("qemu")]),e._v(". To apply patches only for shared libraries, use "),a("code",[e._v("--userspace-update libs")]),e._v(".")])]),a("h4",{attrs:{id:"kcare-uname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kcare-uname"}},[e._v("#")]),e._v(" kcare-uname")]),e._v(" "),a("p",[e._v("Print certain system information.  With no OPTION, same as "),a("code",[e._v("-s")]),e._v(".")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th"),e._v(" "),a("th")])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("code",[e._v("-a, --all")])]),e._v(" "),a("td",[e._v("print all information in the following order, except omit "),a("code",[e._v("-p")]),e._v(" and "),a("code",[e._v("-i")]),e._v(" if unknown")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("-s, --kernel-name")])]),e._v(" "),a("td",[e._v("print the kernel name")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("-n, --nodename")])]),e._v(" "),a("td",[e._v("print the network node hostname")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("-r, --kernel-release")])]),e._v(" "),a("td",[e._v("print the kernel release")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("-v, --kernel-version")])]),e._v(" "),a("td",[e._v("print the kernel version")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("-m, --machine")])]),e._v(" "),a("td",[e._v("print the machine hardware name")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("-p, --processor")])]),e._v(" "),a("td",[e._v("print the processor type or "),a("code",[e._v("unknown")])])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("-i, --hardware-platform")])]),e._v(" "),a("td",[e._v("print the hardware platform or "),a("code",[e._v("unknown")])])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("-o, --operating-system")])]),e._v(" "),a("td",[e._v("print the operating system")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--help")])]),e._v(" "),a("td",[e._v("display this help and exit")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--version")])]),e._v(" "),a("td",[e._v("output version information and exit")])])])]),e._v(" "),a("h4",{attrs:{id:"kernelcare-doctor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kernelcare-doctor"}},[e._v("#")]),e._v(" kernelcare doctor")]),e._v(" "),a("p",[e._v("This tool collects essential information about the KernelCare environment and sends it to the support team.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# kcarectl --doctor\nGenerating report...\nUploading...\nKey: FRWf74Zw11111111.83991334-1111-1111-1111-681ddd653e5f\nPlease, provide above mentioned key to KernelCare Support Team\n\n")])])]),a("p",[e._v("The command generates a report and prints out the ID which could be linked to a support ticket.")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("If there was some connection problem during report uploading, the report will be stored locally as "),a("code",[e._v("/root/cl-report")]),e._v(". This file should be sent to the support team manually.")])]),a("h3",{attrs:{id:"config-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#config-options"}},[e._v("#")]),e._v(" Config options")]),e._v(" "),a("p",[e._v("A "),a("code",[e._v("kcarectl")]),e._v(" behavior can be configured using "),a("code",[e._v("/etc/sysconfig/kcare/kcare.conf")])]),e._v(" "),a("table",[a("thead",[a("tr",[a("th"),e._v(" "),a("th")])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("code",[e._v("AUTO_UPDATE=YES|NO")])]),e._v(" "),a("td",[a("code",[e._v("YES")]),e._v(" - enable auto-update; "),a("code",[e._v("NO")]),e._v(" - disable auto-update.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("chkconfig kcare off")])]),e._v(" "),a("td",[e._v("Disable auto-update after restart.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("PATCH_METHOD=normal|nofreeze|smart")])]),e._v(" "),a("td",[a("code",[e._v("Normal")]),e._v(" - (default) use freezer;"),a("br"),a("code",[e._v("Nofreeze")]),e._v(" - don't use freezer to freeze processes;"),a("br"),e._v(" "),a("code",[e._v("Smart")]),e._v(" - smart freezer freezes only threads that need to be frozen for patching [kernelcare 2.3+].")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("PATCH_SERVER")])]),e._v(" "),a("td",[e._v("Server to use to download patches.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("REGISTRATION_URL")])]),e._v(" "),a("td",[e._v("Licensing server.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("PREFIX=prefix")])]),e._v(" "),a("td",[e._v("Patch source prefix, used to test different builds, by downloading builds from a different location, based on prefix (v2.2+)")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("UPDATE_POLICY=REMOTE|LOCAL|LOCAL_FIRST [since 1.6]")])]),e._v(" "),a("td",[e._v("Depending on the policy, on server startup, use:"),a("br"),a("code",[e._v("REMOTE")]),e._v(" - (default) patches from patch server."),a("br"),a("code",[e._v("LOCAL")]),e._v(" - only locally cached patches, if none cached (caching is done automatically) - do nothing."),a("br"),a("code",[e._v("LOCAL_FIRST")]),e._v(" - see if locally cached patches exist, and load them. If not, try getting them from remote server.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("IGNORE_UNKNOWN_KERNEL=True|False")]),e._v(" "),a("code",[e._v("[since 2.5-4]")])]),e._v(" "),a("td",[e._v("Don't provide notification if unknown kernel on auto-update.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("LOAD_KCARE_SYSCTL [since 2.7-1]")])]),e._v(" "),a("td",[e._v("Controls if "),a("code",[e._v("/etc/sysconfig/kcare/sysctl.conf")]),e._v(" will be loaded on patchset load. True by default.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--set-patch-type extra")])]),e._v(" "),a("td",[e._v("To enable extra patches.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("--set-patch-type free")])]),e._v(" "),a("td",[e._v("To enable free patches.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("STICKY_PATCH=KEY")])]),e._v(" "),a("td",[e._v("Retrieve sticky patch from "),a("code",[e._v("KEY")]),e._v(" (see CLN, Key Edit); not supported for IP based servers or ePortal.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("STICKY_PATCH=DDMMYY")])]),e._v(" "),a("td",[e._v("Stick patch to a particular date. More info at "),a("RouterLink",{attrs:{to:"/live-patching-services/#sticky-patches"}},[e._v("Sticky Patches")]),e._v(".")],1)]),e._v(" "),a("tr",[a("td",[a("code",[e._v("REPORT_FQDN=True|False")])]),e._v(" "),a("td",[e._v("Force using Fully Qualified Domain as a hostname. False by default.")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("FORCE_GID=N")])]),e._v(" "),a("td",[e._v("Use this group ID for symlink protection patch. By default, it's 48 (default Apache user GID) or 99 ("),a("code",[e._v("nobody")]),e._v(" user)")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("USERSPACE_PATCHES=libs,qemu")])]),e._v(" "),a("td",[e._v("Define which userspace patches will be applyed by default")])])])]),e._v(" "),a("h3",{attrs:{id:"disabling-some-patches"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disabling-some-patches"}},[e._v("#")]),e._v(" Disabling some patches")]),e._v(" "),a("p",[e._v("Some patches might affect the work of the system, and we created a way to disable them.")]),e._v(" "),a("p",[e._v("This is done via the "),a("code",[e._v("sysctl")]),e._v(" command.")]),e._v(" "),a("p",[e._v("When new patchset loads, KernelCare Enterprise sysctl options get reset. To prevent that we added a file:")]),e._v(" "),a("p",[a("code",[e._v("/etc/sysconfig/kcare/sysctl.conf")])]),e._v(" "),a("p",[e._v("Options in this file will be loaded automatically on new patchset load.")]),e._v(" "),a("p",[e._v("To disable loading this options, specify:")]),e._v(" "),a("p",[a("code",[e._v("LOAD_KCARE_SYSCTL=0")]),e._v(" in "),a("code",[e._v("/etc/sysconfig/kcare/kcare.conf")])]),e._v(" "),a("p",[e._v("To disable the patch, set the corresponding kcare option to "),a("code",[e._v("1")]),e._v(".")]),e._v(" "),a("p",[e._v("Patches that can be disabled:")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th"),e._v(" "),a("th")])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("Patch")]),e._v(" "),a("td",[a("em",[e._v("sysctl")]),e._v(" option")])]),e._v(" "),a("tr",[a("td",[e._v("CVE-2015-5157")]),e._v(" "),a("td",[e._v("kcare_modify_ldt")])])])]),e._v(" "),a("h1",{attrs:{id:"extra-patchset"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extra-patchset"}},[e._v("#")]),e._v(" Extra patchset")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("KernelCare Enterprise 2.12-5 or higher")])]),a("p",[e._v("KernelCare Enterprise Extra patchset includes all the security fixes from KernelCare Enterprise for AlmaLinux, CentOS 6, CentOS 7, and CentOS 8 as well as symlink protection and IPSet bugfix for CentOS 6.")]),e._v(" "),a("p",[e._v("To enable extra patches and apply patch, run:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("kcarectl --set-patch-type extra --update\n")])])]),a("p",[e._v("To enable extra patches without update, run:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("kcarectl --set-patch-type extra\n")])])]),a("p",[e._v("The ‘extra’ patch will be applied on the next automatic update.")]),e._v(" "),a("p",[e._v("To see details, run:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("kcarectl --patch-info\n")])])]),a("p",[e._v("You should see something similar to:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("OS: centos6\nkernel: kernel-2.6.32-696.6.3.el6\ntime: 2017-07-31 22:46:22\nuname: 2.6.32-696.6.3.el6\n \nkpatch-name: 2.6.32/symlink-protection.patch\nkpatch-description: symlink protection // If you see this patch, it mean that you can enable symlink protection.\nkpatch-kernel: kernel-2.6.32-279.2.1.el6\nkpatch-cve: N/A\nkpatch-cvss: N/A\nkpatch-cve-url: N/A\nkpatch-patch-url: https://gerrit.cloudlinux.com/#/c/16508/\n \nkpatch-name: 2.6.32/symlink-protection.kpatch-1.patch\nkpatch-description: symlink protection (kpatch adaptation)\nkpatch-kernel: kernel-2.6.32-279.2.1.el6\nkpatch-cve: N/A\nkpatch-cvss: N/A\nkpatch-cve-url: N/A\nkpatch-patch-url: https://gerrit.cloudlinux.com/#/c/16508/\n \nkpatch-name: 2.6.32/ipset-fix-list-shrinking.patch\nkpatch-description: fix ipset list shrinking for no reason\nkpatch-kernel: N/A\nkpatch-cve: N/A\nkpatch-cvss: N/A\nkpatch-cve-url: N/A\nkpatch-patch-url: https://bugs.centos.org/view.php?id=13499\n")])])]),a("p",[e._v("To enable Symlink Owner Match Protection, add the following line:")]),e._v(" "),a("p",[a("code",[e._v("fs.enforce_symlinksifowner=1")])]),e._v(" "),a("p",[e._v("to "),a("code",[e._v("/etc/sysconfig/kcare/sysctl.conf")]),e._v(".")]),e._v(" "),a("p",[e._v("And run:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("sysctl -w fs.enforce_symlinksifowner=1\n")])])]),a("h3",{attrs:{id:"sticky-patches"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sticky-patches"}},[e._v("#")]),e._v(" Sticky patches")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("This functionality is not available for ePortal customers. If you are using ePortal, please use "),a("RouterLink",{attrs:{to:"/eportal/#feed-management"}},[e._v("Feeds")]),e._v(" instead.")],1)]),a("p",[e._v("Sometimes you don't want to use the latest patches, but you'd like to control which patches are get installed instead. For example, you have tested the patch released on 25th of May 2018 and want to use that patch across all servers.")]),e._v(" "),a("p",[e._v("You can do it by setting "),a("code",[e._v("STICKY_PATCH=250518")]),e._v(" (ddmmyy format) in "),a("code",[e._v("/etc/sysconfig/kcare/kcare.conf")]),e._v("\nThis guarantees that when "),a("code",[e._v("kcarectl --update")]),e._v(" or "),a("code",[e._v("kcarectl --auto-update")]),e._v(" is called, you will get patches from that date and not the newest patches.")]),e._v(" "),a("p",[e._v("With "),a("code",[e._v("STICKY_PATCH")]),e._v(" you can go back as far as 60 days.")]),e._v(" "),a("p",[e._v("Alternatively, you can set "),a("code",[e._v("STICKY_PATCH=KEY")]),e._v("\nThis way you can control the date from which patches will be applied using KernelCare keys in CLN.\nOn update, the actual date will be retrieved from CLN (from Key settings) for the key used to register a particular server (not supported for IP based servers).")]),e._v(" "),a("p",[e._v("This is very useful if you want to test patches in QA first and later roll them out to production without doing any changes on the systems.")]),e._v(" "),a("p",[e._v("Here is how you can do that:")]),e._v(" "),a("ul",[a("li",[e._v("Set "),a("code",[e._v("STICKY_PATCH=KEY")]),e._v(" on all your servers.")]),e._v(" "),a("li",[e._v("Register QA servers with one KEY, and Production servers with ANOTHER key.")]),e._v(" "),a("li",[e._v("Then, stop new updates for Production servers. In CLN set "),a("code",[e._v("Sticky Tag")]),e._v(" to "),a("code",[e._v("yesterday")]),e._v(". You can do it by editing KEY in CLN in DDMMYY format.")]),e._v(" "),a("li",[e._v("Now, for example, let's use patches as of 03052018 (DDMMYY format). Set them for your QA server key. On the next auto-update, your QA servers will get those patches (auto-updates are typically every 4 hours).")])]),e._v(" "),a("p",[e._v("Once you are happy with this patches, set the same Sticky Tag for Production servers key. In 4 hours your production servers should be updated to the same patches that QA servers were.")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("You can choose any date within the last 60 days. You cannot choose today's date or date in the future.")])]),a("h4",{attrs:{id:"how-to-find-a-proper-sticky-patch-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-find-a-proper-sticky-patch-name"}},[e._v("#")]),e._v(" How to find a proper sticky patch name")]),e._v(" "),a("p",[e._v('Let\'s assume that you have some kernel patch that you want to "stick" with. All you need is to find a proper label for that patch.')]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/sticky-proper-label.png",alt:"sticky-proper-label"}})]),e._v(" "),a("p",[e._v("As you can see, the patch was released at 2020-09-16. And if apply label's date format, it becomes "),a("code",[e._v("16092020")]),e._v(" that will be the sticky patch value.")]),e._v(" "),a("h3",{attrs:{id:"scanning-for-vulnerabilities"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scanning-for-vulnerabilities"}},[e._v("#")]),e._v(" Scanning for vulnerabilities")]),e._v(" "),a("p",[e._v("Identifying the vulnerabilities that apply to your systems is an important task for IT and InfoSec teams, and at TuxCare we make it easy. KernelCare live patching is integrated natively with  vulnerability scanners including Tenable Nessus, Qualys, Rapid7 and many others.")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("A generic integration that works with any vulnerability scanner is available for environments that native integration may not be sufficient. Contact your account manager or "),a("a",{attrs:{href:"mailto:sales@tuxcare.com"}},[e._v("sales@tuxcare.com")]),e._v(" for more information.")])]),a("h4",{attrs:{id:"how-to-use-a-vulnerability-scanner-with-kernelcare"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-use-a-vulnerability-scanner-with-kernelcare"}},[e._v("#")]),e._v(" How to use a vulnerability scanner with KernelCare")]),e._v(" "),a("p",[e._v("It’s rather simple. New scan results after installing a package and applying a patchset should not show any kernel CVEs that are handled by KernelCare Enterprise.")]),e._v(" "),a("p",[e._v("For example, Nessus for an old kernel shows a bunch of detected CVEs:")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/scanner-manipulation-before.png",alt:""}})]),e._v(" "),a("p",[e._v("After the live patches were applied, there are no kernel-related CVEs:")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/scanner-manipulation-after.png",alt:""}})]),e._v(" "),a("h4",{attrs:{id:"how-use-openscap-with-kernelcare"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-use-openscap-with-kernelcare"}},[e._v("#")]),e._v(" How use OpenSCAP with KernelCare")]),e._v(" "),a("p",[e._v("OpenSCAP is an open source vulnerability scanner and compliance tool and it can be used to scan a system protected by KernelCare Enterprise. The following commands show how to use OpenSCAP to produce a vulnerability report for a system.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ source /etc/os-release\n$ wget https://patches.kernelcare.com/oval/com.kernelcare.${ID}.${VERSION_ID}.xml\n$ oscap oval eval --report report.htm com.kernelcare.${ID}.${VERSION_ID}.xml\n")])])]),a("h4",{attrs:{id:"how-to-natively-integrate-kernelcare-with-a-vulnerability-scanner"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-natively-integrate-kernelcare-with-a-vulnerability-scanner"}},[e._v("#")]),e._v(" How to natively integrate KernelCare with a vulnerability scanner")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("These instructions are intended for integrators with 3rd party vulnerability scanners.")])]),a("p",[e._v("There are two ways for a vulnerability scanner to integrate with KernelCare live patching.")]),e._v(" "),a("h4",{attrs:{id:"integrate-via-oval-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#integrate-via-oval-data"}},[e._v("#")]),e._v(" Integrate via OVAL data")]),e._v(" "),a("p",[e._v("KernelCare comes with OVAL data that provide the instructions to the scanner to identify the vulnerabilities that are addressed by the installed live patches. OVAL data are available for the operating systems supported by KernelCare Enterprise, including AlmaLinux, Red Hat Enterprise Linux, Oracle Linux, CentOS, Debian and Ubuntu.")]),e._v(" "),a("p",[e._v("The OVAL data cover all KernelCare enterprise products and add-ons including LibCare, and QEMUCare.")]),e._v(" "),a("p",[e._v("The OVAL data for KernelCare live patching are available at "),a("a",{attrs:{href:"https://patches.kernelcare.com/oval/",target:"_blank",rel:"noopener noreferrer"}},[e._v("patches.kernelcare.com/oval"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h4",{attrs:{id:"integrate-using-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#integrate-using-files"}},[e._v("#")]),e._v(" Integrate using files")]),e._v(" "),a("p",[e._v("KernelCare provides two files that list the vulnerabilities that are addressed by the currently installed live patches. These files contain a list of CVEs separated by a newline.")]),e._v(" "),a("p",[e._v("The list of vulnerabilities addressed by Kernel live patches is available at:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("/proc/kcare/cvelist")])])]),e._v(" "),a("p",[e._v("The list of vulnerabilities addressed by system live patching (LibCare, QEMUCare etc.) is available at:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("/var/cache/kcare/libcare_cvelist")])])]),e._v(" "),a("h3",{attrs:{id:"uefi-secure-boot-support"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uefi-secure-boot-support"}},[e._v("#")]),e._v(" UEFI Secure Boot Support")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("This feature is an early stage of adoption. Not all the distribution will be able to support.")])]),a("p",[e._v("This new functionality lets KernelCare work on systems with secure boot set up in their UEFI firmware. We are going to add a public certificate to the MOK (Machine Owner Keys) database that KernelCare will use to sign modules.")]),e._v(" "),a("p",[e._v("The latest KernelCare package contains a public certificate and will be available in the "),a("code",[e._v("/usr/libexec/kcare/kernelcare_pub.der")]),e._v(". For older versions, it could be downloaded from the "),a("a",{attrs:{href:"https://patches.kernelcare.com/kernelcare_pub.der",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://patches.kernelcare.com/kernelcare_pub.der"),a("OutboundLink")],1),e._v(" to that location.")]),e._v(" "),a("p",[e._v("For example:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-o")]),e._v(" /usr/libexec/kcare/kernelcare_pub.der https://patches.kernelcare.com/kernelcare_pub.der\n\n")])])]),a("ol",[a("li",[e._v("Use "),a("code",[e._v("mokutil")]),e._v(" as root to add this new MOK to the UEFI firmware.")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ mokutil "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--import")]),e._v(" /usr/libexec/kcare/kernelcare_pub.der\n input password:\n input password again:\n")])])]),a("p",[e._v("It doesn't have a MOK password, and "),a("code",[e._v("mokutil")]),e._v(" will ask you to create one. The password is temporary and will be used on the next boot.")]),e._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Reboot your machine to enter the MOK manager EFI utility.")])]),e._v(" "),a("p",[e._v("First, go down to the 'Enroll Mok':")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/uefi-enroll-mok.png",alt:"alt text",title:"Select Enroll MOK"}})]),e._v(" "),a("p",[e._v("Then the firmware gives you the option of viewing the new MOK or continuing. Let's continue.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/uefi-continue.png",alt:"alt text",title:"Select Continue"}})]),e._v(" "),a("p",[e._v("It then asks you to confirm the enrollment.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/uefi-yes.png",alt:"alt text",title:"Select Yes"}})]),e._v(" "),a("p",[e._v("Then you will need to enter the password you used when running "),a("code",[e._v("mokutil --import")]),e._v(".")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/uefi-password.png",alt:"alt text",title:"Enter the password"}})]),e._v(" "),a("p",[e._v("Finally, the firmware will ask you to reboot.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/uefi-ok.png",alt:"alt text",title:"Select OK"}})]),e._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Verify the key has been loaded by finding it in the output of the following command:")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ mokutil --list-enrolled "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("egrep")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-i")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'SHA1|Issuer'")]),e._v("\n\n")])])]),a("p",[e._v("In some cases the enrolled key will not be shown but could be verified by the following command:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("dmesg")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-i")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'cloud linux'")]),e._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.722149")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" EFI: Loaded cert "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Cloud Linux Software, Inc: Kernel Module Signing Key: 12ff0613c0f80cfba3b2f8eba71ebc27c5a76170'")]),e._v(" linked to "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'.system_keyring'")]),e._v("\n")])])]),a("p",[e._v("That's it. Now you should be able to apply patches as usual.")]),e._v(" "),a("p",[e._v("To get more information about signing kernel modules for secure boot, see\n"),a("a",{attrs:{href:"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_monitoring_and_updating_the_kernel/signing-kernel-modules-for-secure-boot_managing-monitoring-and-updating-the-kernel",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_monitoring_and_updating_the_kernel/signing-kernel-modules-for-secure-boot_managing-monitoring-and-updating-the-kernel"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"live-patching-and-fips-compliance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#live-patching-and-fips-compliance"}},[e._v("#")]),e._v(" Live patching and FIPS compliance")]),e._v(" "),a("p",[e._v("The FIPS-140 certification of a Linux kernel validates that the cryptography contained within a Linux kernel complies with the US government FIPS-140 data protection standard. Meaning that algorithms like AES, the random generator and other cryptographic aspects of the kernel are implemented as the standard defines.")]),e._v(" "),a("p",[e._v("At the same time the certification is a lengthy process –a typical validation can take almost a year– and for that reason only some of each vendor’s kernels are validated. That is because vendors release new kernels with security and feature updates on a regular cadence some as often as weekly, irrespective of their FIPS validation status. This means users of FIPS validated kernels need to choose between: (a) strict compliance by staying on the same kernel without updating until the next validated kernel is available and (b) reducing their security risk by installing new kernels with security updates even if they are not validated. The same story applies to the vendor’s live patching solutions.")]),e._v(" "),a("p",[e._v("With KernelCare Enterprise it is possible to live patch FIPS-140 validated Linux kernels, for example at the Red Hat Enterprise Linux operating system. The live patches applied to these kernels, in this example, consist of the same RHEL kernel patches but are limited to the ones addressing security vulnerabilities. That way, a live patched kernel contains the same security fixes as a vendor update without any feature or bug-fix updates, e.g., updates that may change the cryptographic subsystem for performance or other non-security related reasons.")]),e._v(" "),a("p",[a("strong",[e._v("In this way, security-conscious users of FIPS-validated Linux kernels that today apply their vendor's security patches can rely on KernelCare live patching the same way they do with their vendor's security updates")]),e._v(". Furthermore, KernelCare live patching applies the minimum possible updates to the validated kernel by explicitly excluding any non-security updates.")]),e._v(" "),a("h3",{attrs:{id:"firewall-and-proxy-settings"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#firewall-and-proxy-settings"}},[e._v("#")]),e._v(" Firewall and Proxy Settings")]),e._v(" "),a("h4",{attrs:{id:"patching-servers-through-firewall"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#patching-servers-through-firewall"}},[e._v("#")]),e._v(" Patching servers through firewall")]),e._v(" "),a("p",[e._v("As long as your servers have access to the Internet, even behind NAT —  you will be able to use KernelCare patch server without any problems.")]),e._v(" "),a("p",[e._v("Generally, KernelCare requires connection to only two servers for a proper work:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cln.cloudlinux.com\npatches.kernelcare.com\n")])])]),a("p",[e._v("An additional address is used for KernelCare agent installation/update:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("repo.cloudlinux.com\n")])])]),a("p",[a("img",{attrs:{src:"/images/patchingthroughfirewall.png",alt:""}})]),e._v(" "),a("h4",{attrs:{id:"patching-servers-through-proxy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#patching-servers-through-proxy"}},[e._v("#")]),e._v(" Patching servers through proxy")]),e._v(" "),a("p",[e._v("If your servers don't have direct Internet access but can gain access to the Internet using proxy, the configuration is not that different. KernelCare can pick up standard environment variables for a proxy.")]),e._v(" "),a("p",[e._v("Make sure you have environment settings for proxy setup, and everything else will be the same as if servers were directly connected to the Internet:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# export http_proxy=http://proxy.domain.com:port\n# export https_proxy=http://proxy.domain.com:port\n")])])]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("Settings defined by "),a("code",[e._v("export")]),e._v(" are case-insensitive, so the example above could be as follows:")])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# export HTTP_PROXY=http://proxy.domain.com:port\n# export HTTPS_PROXY=http://proxy.domain.com:port\n")])])]),a("p",[e._v("You can define these settings in the KernelCare config "),a("code",[e._v("/etc/sysconfig/kcare/kcare.conf")]),e._v(".")]),e._v(" "),a("p",[e._v("Example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ cat /etc/sysconfig/kcare/kcare.conf\nAUTO_UPDATE=True\nHTTPS_PROXY=http://myproxy.com:59794\n")])])]),a("p",[e._v("If you define these settings in the config, you don't need to export them each "),a("code",[e._v("kcarectl")]),e._v(" launch and don't need to edit cron jobs.")]),e._v(" "),a("p",[e._v("All "),a("code",[e._v("kcarectl")]),e._v(" launches will be aware of proxy settings from the config. In this case, you need to set proxy settings only once.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/patchingthroughproxy.png",alt:""}})]),e._v(" "),a("h3",{attrs:{id:"kernelcare-on-aws-deployment-user-guide"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kernelcare-on-aws-deployment-user-guide"}},[e._v("#")]),e._v(" KernelCare on AWS – Deployment User Guide")]),e._v(" "),a("h4",{attrs:{id:"introductory-material"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introductory-material"}},[e._v("#")]),e._v(" Introductory Material")]),e._v(" "),a("h4",{attrs:{id:"introduction-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction-2"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),a("p",[e._v("The Linux kernel is the most important piece of software on your server, as a security flaw in it can expose all of your services and customers' data. KernelCare is a technology that allows you to keep the Linux kernel safe at all times, automatically, without ever having to stop the server and rebooting it causing downtime and inconvenient scheduling of maintenance windows. This improves availability, security, stability, operation costs, and customer satisfaction. It works with almost all mainstream distributions of Linux. It is simple, fast, and very easy to deploy while being able to handle very complex patches and customized kernels if you need them.")]),e._v(" "),a("h4",{attrs:{id:"prerequisites-and-requirements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites-and-requirements"}},[e._v("#")]),e._v(" Prerequisites and Requirements")]),e._v(" "),a("p",[e._v("KernelCare can be installed on any x86_64 compatible server or VM running one of the following distribution:")]),e._v(" "),a("ul",[a("li",[e._v("Amazon Linux 1, 2")]),e._v(" "),a("li",[e._v("CentOS 6, 7, Xen4CentOS, CentOS-Plus, ElRepo")]),e._v(" "),a("li",[e._v("CloudLinux 6, 7")]),e._v(" "),a("li",[e._v("Debian 7, 8, 9, 8-backports")]),e._v(" "),a("li",[e._v("Oracle Linux 6, 7")]),e._v(" "),a("li",[e._v("ProxmoxVE 3,4,5")]),e._v(" "),a("li",[e._v("RedHat EL 6, 7")]),e._v(" "),a("li",[e._v("Ubuntu 14.04, 16.04, 18.04")]),e._v(" "),a("li",[e._v("Virtuozzo 6")])]),e._v(" "),a("p",[e._v("The exact list of compatible kernels can be found on the following link: "),a("a",{attrs:{href:"https://patches.kernelcare.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://patches.kernelcare.com/"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Standard OS kernels are required in most cases unless the custom kernel is supported.")]),e._v(" "),a("p",[e._v("The software can be installed on the running server and doesn't require a reboot.")]),e._v(" "),a("p",[e._v("Basic Linux skills are sufficient to deploy KernelCare on AWS. Simple deployments involve just an EC2 instance. KernelCare is available as BYOL model. You need to register in our "),a("a",{attrs:{href:"https://cln.cloudlinux.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("customer portal"),a("OutboundLink")],1),e._v(" to get the trial license. Once you get the trial license, you need to register your running EC2 instance with the activation key.")]),e._v(" "),a("h4",{attrs:{id:"architecture-diagrams"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#architecture-diagrams"}},[e._v("#")]),e._v(" Architecture Diagrams")]),e._v(" "),a("p",[e._v("As long as your servers have access to the Internet, even behind NAT – you will be able to use KernelCare patch server without any problems.")]),e._v(" "),a("p",[e._v("Generally, KernelCare requires HTTPS connection to two servers for the proper work:")]),e._v(" "),a("ul",[a("li",[e._v("cln.cloudlinux.com")]),e._v(" "),a("li",[e._v("patches.kernelcare.com")])]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/AWS_arch2.png",alt:""}})]),e._v(" "),a("p",[e._v("If your servers don't have direct Internet access but can gain access to the Internet using proxy, the configuration is not that different. KernelCare can pick up standard environment variables for proxy.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/AWS_proxy_arch2.png",alt:""}})]),e._v(" "),a("p",[e._v("Make sure you have environment settings for proxy setup, and everything else will be the same as if the servers were directly connected to the Internet:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# export http_proxy=http://proxy.domain.com:port\n# export https_proxy=http://proxy.domain.com:port\n")])])]),a("h4",{attrs:{id:"planning-guidance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#planning-guidance"}},[e._v("#")]),e._v(" Planning Guidance")]),e._v(" "),a("h4",{attrs:{id:"security"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#security"}},[e._v("#")]),e._v(" Security")]),e._v(" "),a("p",[e._v("The only thing you need to be able to install/control you KernelCare deployment is SSH access (root credentials, key-based authentication/sudo or similar mechanisms are preferred).")]),e._v(" "),a("h4",{attrs:{id:"costs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#costs"}},[e._v("#")]),e._v(" Costs")]),e._v(" "),a("p",[e._v("KernelCare is billed as a subscription service – you can find more details in the table below.")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[e._v("License Volume")])]),e._v(" "),a("th",[a("strong",[e._v("Monthly Price")])]),e._v(" "),a("th",[a("strong",[e._v("Annual Price")])])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("1")]),e._v(" "),a("td",[e._v("$3.95")]),e._v(" "),a("td",[e._v("$45")])]),e._v(" "),a("tr",[a("td",[e._v("2-49")]),e._v(" "),a("td",[e._v("$2.95")]),e._v(" "),a("td",[e._v("$33")])]),e._v(" "),a("tr",[a("td",[e._v("50-499")]),e._v(" "),a("td",[e._v("$2.55")]),e._v(" "),a("td",[e._v("$28")])]),e._v(" "),a("tr",[a("td",[e._v("500+")]),e._v(" "),a("td",[e._v("$2.25")]),e._v(" "),a("td",[e._v("$25")])])])]),e._v(" "),a("h4",{attrs:{id:"sizing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sizing"}},[e._v("#")]),e._v(" Sizing")]),e._v(" "),a("p",[e._v("KernelCare agent has a tiny RAM footprint – binary patches usually require less than 1 MB.")]),e._v(" "),a("h4",{attrs:{id:"deployment-guidance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deployment-guidance"}},[e._v("#")]),e._v(" Deployment Guidance")]),e._v(" "),a("h4",{attrs:{id:"deployment-assets"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deployment-assets"}},[e._v("#")]),e._v(" Deployment Assets")]),e._v(" "),a("p",[e._v("To install KernelCare, run:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("curl -s -L https://kernelcare.com/installer | bash\n")])])]),a("p",[e._v("or:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("wget -qq -O - https://kernelcare.com/installer | bash\n")])])]),a("p",[e._v("If you are using IP-based license, nothing else required to be done.\nIf you are using key-based license, run:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ /usr/bin/kcarectl --register KEY\n")])])]),a("p",[a("code",[e._v("KEY")]),e._v(" is the registration key code string provided when you sign up for purchase or trial of the product.")]),e._v(" "),a("p",[e._v("You can easily automate KernelCare deployment with Ansible, Puppet, Chef or other automation tools.\nHere are the steps that may be automated:")]),e._v(" "),a("ol",[a("li",[e._v("Distribute KernelCare agent package (optional – required only for servers with no access to the Internet) and a KernelCare agent configuration file ("),a("code",[e._v("/etc/sysconfig/kcare/kcare.conf")]),e._v(").")]),e._v(" "),a("li",[e._v("Set required environmental variables (optional).")]),e._v(" "),a("li",[e._v("Install KernelCare agent from either locally available package or central KernelCare download location.")]),e._v(" "),a("li",[e._v("Register KernelCare with either license key or IP-based license.")])]),e._v(" "),a("h4",{attrs:{id:"operational-guidance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#operational-guidance"}},[e._v("#")]),e._v(" Operational Guidance")]),e._v(" "),a("h4",{attrs:{id:"health-check"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#health-check"}},[e._v("#")]),e._v(" Health Check")]),e._v(" "),a("p",[e._v("Systems protected by KernelCare can be monitored by means of CloudLinux Network (CLN) portal available at "),a("a",{attrs:{href:"https://cln.cloudlinux.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://cln.cloudlinux.com"),a("OutboundLink")],1),e._v(". Registered KernelCare installations are grouped by license keys. Kernels that are marked with exclamation sign in "),a("span",{staticStyle:{color:"#E76930"}},[e._v("amber")]),e._v(" do not have the latest patches installed.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/KC-Ent-monit.png",alt:""}})]),e._v(" "),a("p",[e._v("In either case, you can check whether the latest available patch has been applied by running the following command on a system protected by KernelCare:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ /usr/bin/kcarectl --check\n")])])]),a("h4",{attrs:{id:"backup-and-recovery"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#backup-and-recovery"}},[e._v("#")]),e._v(" Backup and Recovery")]),e._v(" "),a("p",[e._v("There is no reason to backup KernelCare. KernelCare doesn't store any data. You can always re-install and re-register KernelCare.\nTo backup the configuration file of KernelCare if you have modified it, backup the "),a("code",[e._v("/etc/sysconfig/kcare/")]),e._v(" folder.")]),e._v(" "),a("h4",{attrs:{id:"routine-maintenance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#routine-maintenance"}},[e._v("#")]),e._v(" Routine Maintenance")]),e._v(" "),a("p",[e._v("KernelCare is packaged in RPM/DEB packages (depending on Linux distribution) and will update any time system packages are updated. No additional maintenance is needed.")]),e._v(" "),a("h4",{attrs:{id:"emergency-maintenance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#emergency-maintenance"}},[e._v("#")]),e._v(" Emergency Maintenance")]),e._v(" "),a("p",[e._v("If one of your instances degraded, once you start another instance based on EBS or snapshot – KernelCare will continue working as before, no additional work is needed.\nIf you set up a new server instead, re-register KernelCare on the new server.\nIf you decide to uninstall patches, run command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# kcarectl --unload\n")])])]),a("p",[e._v("or complete remove "),a("em",[e._v("kernelcare")]),e._v(" package by running the following command:")]),e._v(" "),a("ul",[a("li",[e._v("on RPM-based systems"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# rpm -e kernelcare\n")])])])])]),e._v(" "),a("p",[e._v("or")]),e._v(" "),a("ul",[a("li",[e._v("on DEB-based systems"),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# dpkg --remove kernelcare\n")])])])])]),e._v(" "),a("h4",{attrs:{id:"patch-feed-advanced-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#patch-feed-advanced-options"}},[e._v("#")]),e._v(" Patch Feed Advanced Options")]),e._v(" "),a("h5",{attrs:{id:"test-and-delayed-feeds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#test-and-delayed-feeds"}},[e._v("#")]),e._v(" "),a("strong",[e._v("Test and Delayed Feeds")])]),e._v(" "),a("p",[e._v("KernelCare Patch Server has several patch feeds available in addition to the standard (production) feed:")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Test feed")]),e._v(" – the newest patches (test builds) that have not undergone the complete testing process. Test feed makes it possible to start testing new patches earlier.")]),e._v(" "),a("li",[a("strong",[e._v("Delayed feeds")]),e._v(" – instructs KernelCare to skip loading patches that were released within the last 12/24/48 hours.")])]),e._v(" "),a("p",[e._v("The alternate feed option is enabled by setting "),a("code",[e._v("PREFIX")]),e._v(" variable in "),a("code",[e._v("/etc/sysconfig/kcare/kcare.conf")]),e._v(" to one of "),a("code",[e._v("test")]),e._v("/"),a("code",[e._v("12h")]),e._v("/"),a("code",[e._v("24h")]),e._v("/"),a("code",[e._v("48h")]),e._v(".")]),e._v(" "),a("h5",{attrs:{id:"feed-management-with-sticky-patch-feature"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#feed-management-with-sticky-patch-feature"}},[e._v("#")]),e._v(" "),a("strong",[e._v("Feed Management With Sticky Patch Feature")])]),e._v(" "),a("p",[e._v("The best way to handle QA and Production environments is to use Sticky tag feature of KernelCare license keys issued from CloudLinux Network (CLN) portal.\nTo use this tag, go to CLN portal → KernelCare tab → click on the target key → Edit Key Info window.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/KC-Ent-list.png",alt:""}})]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/KC-Ent-edit.png",alt:""}})]),e._v(" "),a("p",[e._v("You should provide a separate key for each environment and set them to a particular sticky tag which is actually the date to which all the servers in an environment have to be patched.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/KC-Ent-sticky.png",alt:""}})]),e._v(" "),a("p",[e._v("The date in Sticky tag field can be any date from May 28, 2018 up to one day before today.")]),e._v(" "),a("p",[e._v("To use Sticky tag feature on the servers to be patched, run:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ /usr/bin/kcarectl --set-sticky-patch=KEY\n")])])]),a("p",[e._v("Alternatively, you can do the same by adding "),a("code",[e._v("STICKY_PATCH=KEY")]),e._v(" to the "),a("code",[e._v("/etc/sysconfig/kcare/kcare.conf")]),e._v(" file.")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Warning")]),a("p",[a("strong",[e._v("Do Not")]),e._v(" replace the "),a("code",[e._v("KEY")]),e._v(" word with the actual KernelCare license key used to register the server.")])]),a("p",[e._v("When the Sticky tag feature is enabled for particular servers, all such servers will get patches only released before the date specified in the Sticky tag field.")]),e._v(" "),a("p",[e._v("This way, you can add new patches to all the servers in some environment (i.e. registered with the same KernelCare license key) by updating only a single field in the CLN portal.")]),e._v(" "),a("h4",{attrs:{id:"support"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#support"}},[e._v("#")]),e._v(" Support")]),e._v(" "),a("p",[e._v("We offer unlimited, 24x7x365 support. "),a("a",{attrs:{href:"https://cloudlinux.zendesk.com/hc/requests/new",target:"_blank",rel:"noopener noreferrer"}},[e._v("Submit a request"),a("OutboundLink")],1),e._v(" or email us at "),a("a",{attrs:{href:"mailto:support@cloudlinux.com"}},[e._v("support@cloudlinux.com")]),e._v(".")]),e._v(" "),a("ul",[a("li",[e._v("We answer all support questions within one business day and most within a couple of hours\nTo expedite the support, run the following command on your server (as root user):")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# kcarectl --doctor\n")])])]),a("p",[e._v("Then paste the generated key into the support request.")]),e._v(" "),a("h4",{attrs:{id:"support-costs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#support-costs"}},[e._v("#")]),e._v(" Support Costs")]),e._v(" "),a("p",[e._v("Your KernelCare subscription includes free 24/7 support.")]),e._v(" "),a("h4",{attrs:{id:"accessibility"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#accessibility"}},[e._v("#")]),e._v(" Accessibility")]),e._v(" "),a("h4",{attrs:{id:"reference-materials"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reference-materials"}},[e._v("#")]),e._v(" Reference Materials")]),e._v(" "),a("ul",[a("li",[e._v("KernelCare website: "),a("a",{attrs:{href:"https://www.kernelcare.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.kernelcare.com"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("KernelCare Blog: "),a("a",{attrs:{href:"https://www.kernelcare.com/blog/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.kernelcare.com/blog/"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("KernelCare Patch Server: "),a("a",{attrs:{href:"https://patches.kernelcare.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://patches.kernelcare.com"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("KernelCare documentation: "),a("a",{attrs:{href:"https://docs.kernelcare.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.kernelcare.com/"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("CloudLinux Network – CLN (Billing Portal): "),a("a",{attrs:{href:"https://cln.cloudlinux.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://cln.cloudlinux.com"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("CloudLinux 24/7 online support system: "),a("a",{attrs:{href:"https://tuxcare.zendesk.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://tuxcare.zendesk.com"),a("OutboundLink")],1)])]),e._v(" "),a("h4",{attrs:{id:"localization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#localization"}},[e._v("#")]),e._v(" Localization")]),e._v(" "),a("p",[e._v("KernelCare is available in the English language only.")]),e._v(" "),a("h3",{attrs:{id:"reseller-partner-ui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reseller-partner-ui"}},[e._v("#")]),e._v(" Reseller Partner UI")]),e._v(" "),a("p",[e._v("Once you have got the reseller partner access, in IP Reseller Partner UI you can view and manage IP licenses, billing options, profile details. Here you can track your money balance, licenses count and licenses prices as well as using IP address search to find customers. You can find more information about KernelCare licensing "),a("a",{attrs:{href:"https://www.kernelcare.com/pricing/",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h4",{attrs:{id:"server-section"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#server-section"}},[e._v("#")]),e._v(" Server Section")]),e._v(" "),a("p",[e._v("As soon as you have added funds (See "),a("strong",[e._v("Billing Info/Add Funds")]),e._v(" below) to your account you can immediately add new licenses for clients. To add IP KernelCare license:")]),e._v(" "),a("ol",[a("li",[e._v("Enter IP address in "),a("strong",[e._v("Add IP License")]),e._v(" field, choose license type in pull-down menu (KernelCare) and click "),a("strong",[e._v("Add license")]),e._v(".")])]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/reseller001.jpg",alt:""}})]),e._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[e._v("To delete license click "),a("strong",[e._v("Delete")]),e._v(" in front of the needed IP address.")])]),e._v(" "),a("li",[a("p",[e._v("To add KernelCare Key license go to "),a("strong",[e._v("KernelCare Keys")]),e._v(" tab, enter the number of servers allowed for the license in "),a("strong",[e._v("Max Servers")]),e._v(", add description if needed and click "),a("strong",[e._v("Add")]),e._v(" . The key will be generated and appear in the list below.")])])]),e._v(" "),a("p",[e._v("In the "),a("strong",[e._v("Operations List")]),e._v(" you are able to edit or delete the key.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/reseller007_zoom96.png",alt:""}})]),e._v(" "),a("h4",{attrs:{id:"billing-info-add-funds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#billing-info-add-funds"}},[e._v("#")]),e._v(" Billing Info/Add Funds")]),e._v(" "),a("p",[e._v("To add funds:")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Click "),a("strong",[e._v("Add Funds")]),e._v(" near your balance or go to "),a("strong",[e._v("Billing Info/Add Funds")]),e._v(" on the top of the starting page of your account.")])]),e._v(" "),a("li",[a("p",[e._v("Click "),a("strong",[e._v("Add")]),e._v(" to add credit card details, then enter funds amount and click "),a("strong",[e._v("TopUp")]),e._v(" or "),a("strong",[e._v("Process to Checkout")]),e._v(" to pay via PayPal.")])])]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/reseller002.jpg",alt:""}})]),e._v(" "),a("p",[e._v("While adding credit card details, you can also choose "),a("strong",[e._v("Auto add funds")]),e._v(" option - the funds amount you choose in pull down menu will be automatically added when your balance is below $100.")]),e._v(" "),a("p",[e._v("If you choose "),a("strong",[e._v("Auto repay")]),e._v(", your card will be automatically charged when your balance becomes negative. Minimal charge is $20 (E.g. for balance -$15 - you'll be charged at $20, for balance -$134.2 - you'll be charged at $134.2).")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/reseller003.jpg",alt:""}})]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("If your balance is shown as negative, it means that you have to deposit more funds.")])]),a("h4",{attrs:{id:"api-section"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-section"}},[e._v("#")]),e._v(" API Section")]),e._v(" "),a("p",[e._v("CloudLinux and KernelCare IP licenses adding and removing is compatible with different hosting and domain management and billing systems and platforms. You can find comprehensive information on all possible CloudLinux modules and plug-ins APIs in API Section.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/reseller004.jpg",alt:""}})]),e._v(" "),a("h4",{attrs:{id:"profile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#profile"}},[e._v("#")]),e._v(" Profile")]),e._v(" "),a("p",[e._v("You can edit your profile information by clicking on "),a("strong",[e._v("Profile")]),e._v(" section. Edit the necessary info and click "),a("strong",[e._v("Update Account")]),e._v(".")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/reseller5.jpg",alt:""}}),e._v(" "),a("img",{attrs:{src:"/images/reseller006.jpg",alt:""}})]),e._v(" "),a("h3",{attrs:{id:"how-to"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to"}},[e._v("#")]),e._v(" How To")]),e._v(" "),a("h4",{attrs:{id:"how-to-disable-hyperthreading-smt-without-reboot-kernelcare-case"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-disable-hyperthreading-smt-without-reboot-kernelcare-case"}},[e._v("#")]),e._v(" How to disable HyperThreading (SMT) without reboot: KernelCare case")]),e._v(" "),a("p",[e._v("This article explains how to disable or enable SMT (Simultaneous multithreading) without rebooting using KernelCare, to help mitigate the recent MDS/Zombieload vulnerability.")]),e._v(" "),a("p",[e._v("Disabling CPU simultaneous multithreading (SMT) is one of the mitigations needed to counter the recent MDS vulnerability (also known as ‘Zombieload’). There is a performance impact that depends on the configuration of the hosting platform and its workload patterns. You should also consider the impact of other mitigation strategies, such as assigning dedicated cores to guests (e.g. VMs).")]),e._v(" "),a("p",[e._v("You can control and get the status of SMT with the kernel’s "),a("code",[e._v("sysfs")]),e._v(" interface. There are two files, both in the "),a("code",[e._v("/sys/devices/system/cpu/smt")]),e._v(" directory:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("control")])]),e._v(" "),a("li",[a("code",[e._v("active")])])]),e._v(" "),a("p",[e._v("If you cannot find the "),a("code",[e._v("/sys/devices/system/cpu/smt")]),e._v(" directory, this means your running kernel does not support SMT. In this case, you need to apply KernelCare patches so the SMT controls become available to your system. Use the "),a("code",[e._v("kcarectrl")]),e._v(" command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("kcarectl --update\nKernel is safe\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("ls -l /sys/devices/system/cpu/smt\n-r--r--r-- 1 root root 4096 May 17 13:06 active\n-rw-r--r-- 1 root root 4096 May 17 13:06 control\n")])])]),a("p",[e._v("As soon as you have these files in place, it is possible to proceed with disabling SMT.")]),e._v(" "),a("iframe",{attrs:{width:"560",height:"315",src:"https://www.youtube.com/embed/RUGCvEO1hAE",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),e._v(" "),a("h4",{attrs:{id:"smt-control"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#smt-control"}},[e._v("#")]),e._v(" SMT Control")]),e._v(" "),a("p",[a("code",[e._v("/sys/devices/system/cpu/smt/control")])]),e._v(" "),a("p",[e._v("This file lets you enable or disable SMT, and shows its state. There are three values:")]),e._v(" "),a("ol",[a("li",[a("code",[e._v("on")]),e._v(": The CPU supports SMT and it is enabled. All logical CPUs can be taken offline or online without restriction.")]),e._v(" "),a("li",[a("code",[e._v("off")]),e._v(": The CPU supports SMT but it is disabled. Only so-called primary SMT threads can be taken offline/online without restriction. Attempts to put a non-primary sibling thread online will be rejected.")]),e._v(" "),a("li",[a("code",[e._v("notsupported")]),e._v(": The CPU does not support SMT. You will not be able to write to the control file.")])]),e._v(" "),a("h4",{attrs:{id:"smt-status"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#smt-status"}},[e._v("#")]),e._v(" SMT Status")]),e._v(" "),a("p",[a("code",[e._v("/sys/devices/system/cpu/smt/active")])]),e._v(" "),a("p",[e._v("The contents of this file show the status of SMT (e.g. if two or more sibling threads are active on the same physical core the contents of this file is 1, if not: 0).")]),e._v(" "),a("p",[e._v("Here are some commands to control SMT support (root permissions are required):")]),e._v(" "),a("h4",{attrs:{id:"check-the-smt-state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#check-the-smt-state"}},[e._v("#")]),e._v(" Check the SMT state")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cat /sys/devices/system/cpu/smt/active\n")])])]),a("h4",{attrs:{id:"enable-smt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enable-smt"}},[e._v("#")]),e._v(" Enable SMT")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("echo on > /sys/devices/system/cpu/smt/control\n")])])]),a("h4",{attrs:{id:"disable-smt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#disable-smt"}},[e._v("#")]),e._v(" Disable SMT")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("echo off > /sys/devices/system/cpu/smt/control\n")])])]),a("p",[e._v("Disabling SMT, "),a("RouterLink",{attrs:{to:"/how-to/#how-to-update-microcode-without-reboot-with-vendor-provided-package"}},[e._v("updating microcode")]),e._v(", and applying KernelCare patches will protect your systems against the ZombieLoad vulnerability. Note, only the latter action is applicable to virtual systems (e.g. VMs, VPS and other cloud instance types).")],1),e._v(" "),a("h4",{attrs:{id:"how-to-update-microcode-without-reboot-with-vendor-provided-package"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-update-microcode-without-reboot-with-vendor-provided-package"}},[e._v("#")]),e._v(" How to update Microcode without reboot with vendor-provided package")]),e._v(" "),a("p",[e._v("This article shows how to update the microcode of Intel CPUs running Linux.")]),e._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Warning")]),a("p",[e._v("To avoid possible issues with Microcode updating, enable SMT before the update.")])]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("This article is subject to change and will be updated with instructions for other distributions.")])]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Notes")]),a("ul",[a("li",[e._v("These steps must be done as root.")]),e._v(" "),a("li",[e._v("The examples shown are for Debian.")]),e._v(" "),a("li",[e._v("If you have doubts your systems are fully protected against CPU- and kernel-related vulnerabilities, please "),a("a",{attrs:{href:"mailto:sales@cloudlinux.com"}},[e._v("get in touch with us")]),e._v(".")])])]),a("h4",{attrs:{id:"updating-microcode-on-ubuntu-and-debian"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#updating-microcode-on-ubuntu-and-debian"}},[e._v("#")]),e._v(" Updating microcode on Ubuntu and Debian")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Find the microcode package download link for your platform")]),e._v(" "),a("ul",[a("li",[e._v("Ubuntu: "),a("a",{attrs:{href:"https://usn.ubuntu.com/3977-1/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://usn.ubuntu.com/3977-1/"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Debian: "),a("a",{attrs:{href:"https://packages.debian.org/search?keywords=intel-microcode",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://packages.debian.org/search?keywords=intel-microcode"),a("OutboundLink")],1)])])]),e._v(" "),a("li",[a("p",[e._v("Download the package")])])]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),a("p",[e._v("Example shown for Debian 9")])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cd <a temporary directory, e.g. /tmp>\nmkdir firmware\ncd firmware\nwget http://security.debian.org/debian-security/pool/updates/non-free/i/intel-microcode/intel-microcode_3.20190514.1~deb9u1_amd64.deb\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Check the downloaded package")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("md5sum intel-microcode_3.20190514.1~deb9u1_amd64.deb\nc7bc9728634137453e0f4821fb6bb436  intel-microcode_3.20190514.1~deb9u1_amd64.deb\n")])])]),a("p",[e._v("A list of checksums is on "),a("a",{attrs:{href:"https://packages.debian.org/stretch/amd64/intel-microcode/download",target:"_blank",rel:"noopener noreferrer"}},[e._v("the Debian packages download page"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[e._v("Unpack the package")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("dpkg -x intel-microcode_3.20190514.1~deb9u1_amd64.deb\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[e._v("Check the unpacked files")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("ls -l\ntotal 1896\ndrwxr-xr-x 5 root root   53 May 15 04:18 etc\n-rw-r--r-- 1 root root 1940140 May 17 11:42 intel-microcode_3.20190514.1~deb9u1_amd64.deb\ndrwxr-xr-x 3 root root   22 May 15 04:18 lib\ndrwxr-xr-x 3 root root   19 May 15 04:18 usr\n")])])]),a("ol",{attrs:{start:"6"}},[a("li",[e._v("Create a backup of existing microcode:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("test -d /lib/firmware/intel-ucode/ && mv /lib/firmware/intel-ucode/ /lib/firmware/intel-ucode.backup\n")])])]),a("ol",{attrs:{start:"7"}},[a("li",[e._v("Copy the new microcode and check it")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cp -r lib/firmware/intel-ucode/ /lib/firmware/\nls -l /lib/firmware/ | grep intel-ucode\ndrwxr-xr-x  2 root root 4096 May 17 11:47 intel-ucode\ndrwxr-xr-x  2 root root 4096 May 16 20:54 intel-ucode.backup\n")])])]),a("ol",{attrs:{start:"8"}},[a("li",[e._v("Check the current microcode version")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("dmesg | grep microcode\n[ 2.254717] microcode: sig=0x306a9, pf=0x10, revision=0x12\n[ 2.254820] microcode: Microcode Update Driver: v2.01 <tigran@aivazian.fsnet.co.uk>, Peter Oruba\n")])])]),a("ol",{attrs:{start:"9"}},[a("li",[e._v("(Optional) Double check the current microcode versions (revisions per core)")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cat /proc/cpuinfo | grep -e microcode\nmicrocode : 0x12\nmicrocode : 0x12\nmicrocode : 0x12\nmicrocode : 0x12\n")])])]),a("ol",{attrs:{start:"10"}},[a("li",[e._v("Check the microcode reload file exists")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("ls -l /sys/devices/system/cpu/microcode/reload\n--w------- 1 root root 4096 May 17 11:54 /sys/devices/system/cpu/microcode/reload\n")])])]),a("ol",{attrs:{start:"11"}},[a("li",[e._v("Force the kernel to load the new microcode")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("echo 1 > /sys/devices/system/cpu/microcode/reload\n")])])]),a("ol",{attrs:{start:"12"}},[a("li",[e._v("Check the new microcode")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("dmesg | grep microcode\n[ 2.254717] microcode: sig=0x306a9, pf=0x10, revision=0x12\n[ 2.254820] microcode: Microcode Update Driver: v2.01 <tigran@aivazian.fsnet.co.uk>, Peter Oruba\n[ 1483.494573] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09\n[ 1483.495985] microcode: updated to revision 0x21, date = 2019-02-13\n[ 1483.496012] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09\n[ 1483.496698] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09\n[ 1483.497391] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09\n")])])]),a("ol",{attrs:{start:"13"}},[a("li",[e._v("(Optional) Double check the new microcode version (revisions per core)")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cat /proc/cpuinfo | grep -e microcode\nmicrocode : 0x21\nmicrocode : 0x21\nmicrocode : 0x21\nmicrocode : 0x21\n")])])]),a("h4",{attrs:{id:"updating-microcode-on-red-hat-and-centos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#updating-microcode-on-red-hat-and-centos"}},[e._v("#")]),e._v(" Updating Microcode on Red Hat and CentOS")]),e._v(" "),a("p",[e._v("For RHEL-based distributions, you can use the "),a("code",[e._v("microcode_ctl utility")]),e._v(" to update microcode.")]),e._v(" "),a("ol",[a("li",[e._v("Get the latest microcode by updating the "),a("code",[e._v("microcode_ctl")]),e._v(" package")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("yum update microcode_ctl\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Create a force file")])]),e._v(" "),a("p",[e._v("Create a "),a("code",[e._v("force-late-intel–06–4f–01")]),e._v(" inside the firmware directory.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("touch /lib/firmware/`uname -r`/force-late-intel-06-4f-01\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Run the microcode update")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("/usr/libexec/microcode_ctl/update_ucode\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[e._v("Force the kernel to load the new microcode")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("echo 1 > /sys/devices/system/cpu/microcode/reload\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[e._v("Check the new microcode")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("dmesg | grep microcode\n[ 2.254717] microcode: sig=0x306a9, pf=0x10, revision=0x12\n[ 2.254820] microcode: Microcode Update Driver: v2.01 <tigran@aivazian.fsnet.co.uk>, Peter Oruba\n[ 1483.494573] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09\n[ 1483.495985] microcode: updated to revision 0x21, date = 2019-02-13\n[ 1483.496012] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09\n[ 1483.496698] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09\n[ 1483.497391] platform microcode: firmware: direct-loading firmware intel-ucode/06-3a-09\n")])])]),a("ol",{attrs:{start:"6"}},[a("li",[e._v("(Optional) Double check the new microcode version (revisions per core)")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cat /proc/cpuinfo | grep -e microcode\nmicrocode : 0x21\nmicrocode : 0x21\nmicrocode : 0x21\nmicrocode : 0x21\n")])])]),a("h4",{attrs:{id:"updating-microcode-on-centos-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#updating-microcode-on-centos-6"}},[e._v("#")]),e._v(" Updating Microcode on CentOS 6")]),e._v(" "),a("ol",[a("li",[e._v("Get the latest microcode by updating the "),a("code",[e._v("microcode_ctl")]),e._v(" package")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("yum update microcode_ctl\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("If "),a("code",[e._v("yum update microcode_ctl")]),e._v(" outputs the following:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Package(s) microcode_ctl available, but not installed.\nNo Packages marked for Update\n")])])]),a("p",[e._v("you need to install the package manually.")]),e._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[e._v("To install "),a("code",[e._v("microcode_ctl")]),e._v(" package, run the command:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("yum install microcode_ctl\n")])])]),a("p",[e._v("The command output:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Installed:\n  microcode_ctl.x86_64 2:1.17-33.11.el6_10                                                                                                                                 \n\nComplete!\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[e._v("Check CPU microcode version:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cat /proc/cpuinfo | grep microcode\nmicrocode       : 9\nmicrocode       : 9\nmicrocode       : 9\nmicrocode       : 9\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[e._v("Try to update microcode")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("microcode_ctl -u\n")])])]),a("p",[e._v("If you see the output:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("microcode_ctl: writing microcode (length: 2370560)\nmicrocode_ctl: cannot open /dev/cpu/microcode for writing errno=2 (No such file or directory)\n")])])]),a("p",[e._v("You need to load driver microcode.")]),e._v(" "),a("ol",{attrs:{start:"6"}},[a("li",[e._v("Load driver microcode")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("modprobe microcode\n")])])]),a("ol",{attrs:{start:"7"}},[a("li",[e._v("Try to update microcode again:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("microcode_ctl -u\n")])])]),a("p",[e._v("If you see the output:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("microcode_ctl: writing microcode (length: 2370560)\nmicrocode_ctl: microcode successfully written to /dev/cpu/microcode\n")])])]),a("p",[e._v("then update is successful.")]),e._v(" "),a("ol",{attrs:{start:"8"}},[a("li",[e._v("Check version:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cat /proc/cpuinfo | grep microcode\nmicrocode       : 17\nmicrocode       : 17\nmicrocode       : 17\nmicrocode       : 17\n")])])]),a("iframe",{attrs:{width:"560",height:"315",src:"https://www.youtube.com/embed/EydWy-b9uns",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),e._v(" "),a("h4",{attrs:{id:"plesk-related"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plesk-related"}},[e._v("#")]),e._v(" Plesk related")]),e._v(" "),a("h4",{attrs:{id:"how-to-get-a-kernelcare-activation-key-from-the-extended-plesk-license"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-get-a-kernelcare-activation-key-from-the-extended-plesk-license"}},[e._v("#")]),e._v(" How to get a KernelCare activation key from the extended Plesk license")]),e._v(" "),a("p",[e._v("Often our clients purchase KernelCare licenses through Plesk/Odin and in such cases, they get a universal key which includes the KernelCare license and other additional keys for Plesk plugins. Such a key has the following syntax – "),a("code",[e._v("A00B00-0CDE00-F0G000-HIGK00-LM0N00")]),e._v(", – and initially, it is installed through Plesk automatically and the license gets activated successfully.")]),e._v(" "),a("p",[e._v("However, if it is required to re-register the agent for some reason or simply get the KernelCare activation key separately, it would be impossible to apply the above-mentioned one – we would need to deal with the KernelCare service separately.")]),e._v(" "),a("p",[e._v("To get the KernelCare activation key from the extended Plesk license key, you will need to proceed with the following.")]),e._v(" "),a("ol",[a("li",[e._v("Navigate to "),a("em",[e._v("Tools & Settings >> Plesk >> License Management >> Additional License Keys")])])]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/LicenseManagement.png",alt:""}})]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/AdditionalLicenseKeys.png",alt:""}})]),e._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[e._v("Click "),a("em",[e._v("Download key")]),e._v(" next to the KernelCare license listed on the page and open the file downloaded in some text editor")])]),e._v(" "),a("li",[a("p",[e._v("Find the following abstract:")])])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('\x3c!--Key body--\x3e\n<aps-3:key-body core:encoding="base64" core:type="binary">YOUR_BASE64_ENCODED_LICENSE_KEY==</aps-3:key-body>\n\x3c!--Information about additional key--\x3e\n')])])]),a("ol",{attrs:{start:"4"}},[a("li",[a("p",[e._v("This is your base64-encoded key, and it should be decoded using a CLI utility or an online base64 decoder into UTF-8, e.g. "),a("a",{attrs:{href:"https://www.base64decode.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.base64decode.org"),a("OutboundLink")],1),e._v(".\nThe new license key should have the following format: "),a("code",[e._v("xxxxxxxxxxxxxxxx")]),e._v(". It will contain lower and upper case letters and numbers.")])]),e._v(" "),a("li",[a("p",[e._v("Use the new key decoded to activate the service:")])])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("/usr/bin/kcarectl --register DECODED_KEY_HERE\n")])])]),a("p",[e._v("This is it!")]),e._v(" "),a("h2",{attrs:{id:"libcare"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#libcare"}},[e._v("#")]),e._v(" LibCare")]),e._v(" "),a("p",[e._v("Formerly known as KernelCare+, LibCare detect and updates shared libraries in-memory without disrupting the applications using them.")]),e._v(" "),a("h3",{attrs:{id:"introduction-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction-3"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),a("p",[e._v("LibCare is a patching tool for shared libraries and detecting library-related vulnerabilities. Its patches the library files in memory without rebooting.")]),e._v(" "),a("h3",{attrs:{id:"benefits-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#benefits-2"}},[e._v("#")]),e._v(" Benefits")]),e._v(" "),a("p",[e._v("Today in a lot of organizations, it's very challenging to get approval for maintenance windows that are required to reboot servers and restart an application. There are multiple applications running on a single server today shared the Glibc and OpenSSL libraries.")]),e._v(" "),a("p",[e._v("Even if they’re patched manually, without a reboot, shared libraries may contain vulnerabilities. When libraries are updated on disk, old unpatched files can persist in a server’s memory. What’s more, vulnerability scanners don’t detect these old unpatched library files in memory. With LibCare the local server libraries are fully protected against all knows attackers and vulnerability")]),e._v(" "),a("h3",{attrs:{id:"key-features-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#key-features-2"}},[e._v("#")]),e._v(" Key Features")]),e._v(" "),a("ul",[a("li",[e._v("Rebootless Library Patching")]),e._v(" "),a("li",[e._v("Avoid rebooting the application")]),e._v(" "),a("li",[e._v("Support OpenSSL & Glibc")])]),e._v(" "),a("h3",{attrs:{id:"getting-trial-license-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-trial-license-2"}},[e._v("#")]),e._v(" Getting trial license")]),e._v(" "),a("p",[e._v("You will need a trial activation key to be able to use the KernelCare Enterprise. The trial license subscription will work for 7 days.")]),e._v(" "),a("p",[e._v("If you have any issues getting activation key or if you have any questions regarding using your trial subscription – contact "),a("a",{attrs:{href:"mailto:sales@cloudlinux.com"}},[e._v("sales@cloudlinux.com")]),e._v(" and we will help.")]),e._v(" "),a("h3",{attrs:{id:"supported-operating-systems"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#supported-operating-systems"}},[e._v("#")]),e._v(" Supported operating systems")]),e._v(" "),a("p",[e._v("LibCare patching is now available for the following operating systems:")]),e._v(" "),a("ul",[a("li",[e._v("CentOS/RHEL/CloudLinux OS 7")]),e._v(" "),a("li",[e._v("CloudLinux OS 8")]),e._v(" "),a("li",[e._v("AlmaLinux 8")]),e._v(" "),a("li",[e._v("Oracle Linux 7")]),e._v(" "),a("li",[e._v("Oracle Linux 8")]),e._v(" "),a("li",[e._v("Debian 9/10")]),e._v(" "),a("li",[e._v("Ubuntu 16.04/18.04/20.04")]),e._v(" "),a("li",[e._v("Proxmox VE 6")]),e._v(" "),a("li",[e._v("Scientific Linux")])]),e._v(" "),a("h3",{attrs:{id:"installation-and-upgrade"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation-and-upgrade"}},[e._v("#")]),e._v(" Installation and upgrade")]),e._v(" "),a("p",[e._v("Userspace processes patching feature is available in the KernelCare package.")]),e._v(" "),a("h3",{attrs:{id:"usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[e._v("#")]),e._v(" Usage")]),e._v(" "),a("p",[e._v("To apply the available patches to all userspace processes, run the following command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ kcarectl --lib-update\n")])])]),a("p",[e._v("To gather information about what processes were patched, run the following command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ kcarectl --lib-info\n")])])]),a("p",[e._v("To gather information about applyed patches, run the following command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ kcarectl --lib-patch-info\n")])])]),a("p",[e._v("To unpatch all involved processes, run the following command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ kcarectl --lib-unload\n")])])]),a("h4",{attrs:{id:"blacklisting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#blacklisting"}},[e._v("#")]),e._v(" Blacklisting")]),e._v(" "),a("p",[e._v("Applying a live patch may clash with software such as anti-viruses that detect or prevent memory updates. While the majority of software is compatible with live patching, for the software that may misbehave, LibCare comes with a default blacklist. The blacklist is located in the /var/lib/libcare/blacklist and contains the list of known applications that may misbehave when live patched. You can override those values by creating the file "),a("code",[e._v("/var/cache/kcare/userspace/blacklist")]),e._v(".")]),e._v(" "),a("p",[e._v("The format of the file is as follows. Patterns should be specified line by line prefixed with pattern type and a colon. Comment starts with dash (#). Example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" # Symantec Antivirus\n path: /opt/Symantec/*\n filename:symcfgd\n filename:rtvscand\n filename:smcd\n")])])]),a("p",[e._v("Specifying "),a("code",[e._v("path")]),e._v(" means that the whole path to binary will be taken into account, while using "),a("code",[e._v("filename")]),e._v(" allows to blacklist a process irrespective of the full path to binary.")]),e._v(" "),a("p",[e._v("Wildcards are also supported:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" filename:docker*\n path:/usr/libexec/docker/docker-*\n")])])]),a("p",[e._v("Also a POSIX regular expressions could be used as follows:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" regex:/usr/bin/[[:alnum:]]+\n")])])]),a("h4",{attrs:{id:"auto-update"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auto-update"}},[e._v("#")]),e._v(" Auto update")]),e._v(" "),a("p",[e._v("Userspace patching cron job is disabled by default. To enable it, run the following command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("libcare-cron init\n")])])]),a("h3",{attrs:{id:"troubleshooting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting"}},[e._v("#")]),e._v(" Troubleshooting")]),e._v(" "),a("h4",{attrs:{id:"auditd-logs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auditd-logs"}},[e._v("#")]),e._v(" Auditd logs")]),e._v(" "),a("p",[e._v("The LibCare tools heavily use a "),a("code",[e._v("ptrace")]),e._v(" syscall and, in case of "),a("code",[e._v("auditd")]),e._v(" trace it's calls, there will be a lot of records in a log. There is a rule that provided by kernelcare package and located here: "),a("code",[e._v("/etc/audit/rules.d/kernelcare.rules")]),e._v(". It will exclue kernelcare processes from audit.")]),e._v(" "),a("p",[a("strong",[e._v("Note")]),e._v(": no such rule is provided for "),a("code",[e._v("el6")]),e._v(" due to old "),a("code",[e._v("autditd")]),e._v(" restrictions. There is a command that will add such rule in runtime:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('auditctl -l | grep kcare | cut -d\' \' -f2- | xargs -t -L1 -r auditctl -d && pgrep libcare-server | xargs -t -n1 -i auditctl -A exit,never -F arch=b64 -S ptrace -F pid="{}" -k kcarever | xargs -t -n1 -i auditctl -A exit,never -F arch=b64 -S ptrace -F pid="{}" -k kcare\n')])])]),a("p",[e._v("It removes all currently enabled KernelCare rules and adds a new one by LibCare's process ID.")]),e._v(" "),a("h3",{attrs:{id:"unpatched-library-detector-uchecker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unpatched-library-detector-uchecker"}},[e._v("#")]),e._v(" Unpatched Library Detector (UChecker)")]),e._v(" "),a("h4",{attrs:{id:"description"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#description"}},[e._v("#")]),e._v(" Description")]),e._v(" "),a("p",[e._v("UChecker is a scanner that checks network Linux servers and detects out-of-date libraries both on disk and in memory. KernelCare’s open-source scanner will find false negatives by correctly reporting vulnerable libraries running in memory that could be reported as updated by other scanners.")]),e._v(" "),a("p",[e._v('The UChecker (originated from "userspace checker") works with all modern Linux Distributions, it is free and open-source, distributed under the GNU General Public License.')]),e._v(" "),a("h4",{attrs:{id:"how-uchecker-works"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-uchecker-works"}},[e._v("#")]),e._v(" How UChecker works")]),e._v(" "),a("p",[e._v("This activity diagram shows how UChecker works:")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/uchecker.jpg",alt:""}})]),e._v(" "),a("h4",{attrs:{id:"usage-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usage-2"}},[e._v("#")]),e._v(" Usage")]),e._v(" "),a("p",[e._v("To scan your systems, run the following command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ curl -s -L https://kernelcare.com/uchecker | sudo python\n")])])]),a("p",[e._v("You will receive the following output:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[*] Process httpd[15516] linked to the `libc-2.17.so` that is not up to date.\n\nYou may want to update libraries above and restart corresponding processes.\n\nKernelCare+ allows to resolve such issues with no process downtime. To find \nout more, please, visit https://lp.kernelcare.com/kernelcare-early-access?\n")])])]),a("p",[e._v("The following information is available in the output:")]),e._v(" "),a("ul",[a("li",[e._v("Process ID")]),e._v(" "),a("li",[e._v("Process Name")])]),e._v(" "),a("h4",{attrs:{id:"troubleshooting-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting-2"}},[e._v("#")]),e._v(" Troubleshooting")]),e._v(" "),a("p",[e._v("To verbose output, you can choose a logging level: "),a("code",[e._v("ERROR")]),e._v(", "),a("code",[e._v("WARNING")]),e._v(", "),a("code",[e._v("INFO")]),e._v(", and "),a("code",[e._v("DEBUG")]),e._v(".")]),e._v(" "),a("p",[e._v("For example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$ curl -s -L https://kernelcare.com/uchecker | sudo LOGLEVEL=debug python\n")])])]),a("p",[e._v("To learn more, visit the "),a("a",{attrs:{href:"https://github.com/cloudlinux/kcare-uchecker",target:"_blank",rel:"noopener noreferrer"}},[e._v("UChecker Github page"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"qemucare"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#qemucare"}},[e._v("#")]),e._v(" QEMUCare")]),e._v(" "),a("p",[e._v("QEMUCare – virtualization patching for cloud providers, VPS hosters, or any other company with QEMU based virtualization systems. It keeps infrastructure patched without disrupting virtual tenants’ systems.")]),e._v(" "),a("h3",{attrs:{id:"how-qemucare-works"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-qemucare-works"}},[e._v("#")]),e._v(" How QEMUCare works")]),e._v(" "),a("ul",[a("li",[e._v("An agent is installed on each virtualization host which installs patches directly from the QEMUCare repository.")]),e._v(" "),a("li",[e._v("In an ePortal environment, your Virtualization Hosts communicate with the QEMUCare ePortal server that acts as an intermediary.")])]),e._v(" "),a("h3",{attrs:{id:"qemu-patchset-deployment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#qemu-patchset-deployment"}},[e._v("#")]),e._v(" QEMU PatchSet Deployment")]),e._v(" "),a("p",[e._v("Starting from version 1.25, ePortal supports the QEMU patchset management. It\nis accessible from the "),a("code",[e._v("Patches / QEMUcare")]),e._v(" navigation item. QEMU patches\nuse the same Patch Source credentials, and you don't need to perform additional\nconfiguration.")]),e._v(" "),a("p",[a("img",{attrs:{src:"/images/eportal-qemu-feed.png",alt:""}})]),e._v(" "),a("p",[e._v("User interface for the QEMU patch management is the same as for KernelCare patches, and you\ncan refer the "),a("a",{attrs:{href:"https://docs.tuxcare.com/eportal/#patchset-deployment",target:"_blank",rel:"noopener noreferrer"}},[e._v("PatchSet Deployment"),a("OutboundLink")],1),e._v(" documentation.")]),e._v(" "),a("h4",{attrs:{id:"cli-to-install-the-latest-patchsets"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cli-to-install-the-latest-patchsets"}},[e._v("#")]),e._v(" CLI to install the latest patchsets")]),e._v(" "),a("p",[e._v("To update the default feed, run the following command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("kc.eportal qemu update\n")])])]),a("p",[e._v("To update the "),a("code",[e._v("test")]),e._v(" feed, run the following command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("kc.eportal qemu update --feed test\n")])])]),a("p",[e._v("To update all auto-feeds, run the following command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("kc.eportal qemu auto-update\n")])])]),a("h4",{attrs:{id:"cli-to-deploy-patchset-from-archive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cli-to-deploy-patchset-from-archive"}},[e._v("#")]),e._v(" CLI to deploy patchset from archive")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("~$ kc.eportal qemu deploy --help\nusage: kc.eportal qemu deploy [-h] [--feed FEED] [--disabled] archive\n\npositional arguments:\n  archive      path to archive\n\noptional arguments:\n  -h, --help   show this help message and exit\n  --feed FEED  feed to deploy archive to\n  --disabled   do not enable patchset after deploy\n")])])]),a("p",[e._v("For example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("kc.eportal qemu deploy --feed test /tmp/U20210818_01-qemu.tar.bz2\n")])])]),a("p",[e._v("This command will deploy and enable the "),a("code",[e._v("U20210818_01-qemu")]),e._v(" patchset in to the "),a("code",[e._v("test")]),e._v(" feed.")])])},[],!1,null,null,null);t.default=s.exports}}]);